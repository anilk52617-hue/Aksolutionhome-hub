<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AK SOLUTION HUB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #005eb8; --bg: #ffffff; --success: #27ae60; }
        * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; }
        body { background: var(--bg); padding-bottom: 85px; }
        .header { text-align: center; padding: 10px; background: #fff; border-bottom: 1px solid #ddd; }
        .logo-img { width: 75px; height: 75px; border-radius: 50%; border: 2px solid var(--primary); }
        .header h1 { color: var(--primary); font-size: 22px; font-weight: 800; }
        .ticker { background: var(--primary); color: #fff; padding: 8px; overflow: hidden; white-space: nowrap; font-size: 13px; font-weight: bold; }
        .slider-box { width: 94%; margin: 15px auto; border-radius: 15px; overflow: hidden; height: 170px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .slider { display: flex; transition: 0.5s; height: 100%; }
        .slider img { width: 100%; flex-shrink: 0; object-fit: cover; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; }
        .box { background: #f8f9fa; border-radius: 12px; height: 90px; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 1px solid #eee; cursor: pointer; transition: 0.2s; }
        .box:active { transform: scale(0.95); background: #eee; }
        .box i { font-size: 24px; color: var(--primary); margin-bottom: 5px; }
        .box span { font-size: 10px; font-weight: 800; color: #333; text-align: center; text-transform: uppercase; }
        
        /* ADMIN STATUS BAR */
        .adm-status-bar { display: flex; gap: 5px; margin: 15px; }
        .adm-btn { flex: 1; padding: 12px 2px; color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: bold; text-align: center; }
        #admin-panel-content { display: none; }
        
        /* NAVIGATION */
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; display: flex; height: 75px; border-top: 1px solid #eee; z-index: 10000; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); }
        .nav-item { flex: 1; text-align: center; color: #666; font-size: 11px; padding-top: 15px; cursor: pointer; }
        .nav-item i { font-size: 22px; display: block; margin-bottom: 4px; }
        .active-nav { color: var(--primary); font-weight: bold; }
        
        .page { display: none; padding: 20px; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
        .active-page { display: block !important; }
        .input { width: 100%; padding: 12px; margin: 10px 0; border: 1.5px solid #ddd; border-radius: 8px; font-size: 16px; outline: none; }
        .btn-ok { width: 100%; padding: 15px; background: var(--success); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; }

        /* ID CARD & ADMIN MODALS */
        #id-card-modal, #admin-form-modal { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:320px; background:white; padding:20px; border-radius:15px; box-shadow:0 0 30px rgba(0,0,0,0.5); z-index:30000; text-align:center; border: 2px solid var(--primary); }
        .form-title { color: var(--primary); font-weight: bold; margin-bottom: 15px; text-transform: uppercase; }
    </style>
</head>
<body>

<div class="header"><img src="57255.jpg" class="logo-img"><h1>AK SOLUTION HUB</h1></div>
<div class="ticker"><marquee>‚ö° ‡§∏‡•Ä‡§∏‡•Ä‡§ü‡•Ä‡§µ‡•Ä | ‡§Ü‡§∞‡§ì | ‡§™‡•ç‡§≤‡§Ç‡§¨‡§∞ | ‡§ï‡§æ‡§∞‡§™‡•á‡§Ç‡§ü‡§∞ | ‡§è‡§∏‡•Ä ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ | 9927464530 ‚ö°</marquee></div>

<div id="home-page" class="page active-page">
    <div class="slider-box"><div class="slider" id="mainSlider"><img src="1.jpg"><img src="2.jpg"><img src="3.jpg"><img src="4.jpg"><img src="5.jpg"></div></div>
    <div class="grid" id="main-grid">
        <div class="box" onclick="openSub('PLUMBER')"><i class="fas fa-faucet"></i><span>PLUMBER</span></div>
        <div class="box" onclick="openSub('ELECTRICIAN')"><i class="fas fa-bolt"></i><span>ELECTRICIAN</span></div>
        <div class="box" onclick="openSub('CARPENTER')"><i class="fas fa-hammer"></i><span>CARPENTER</span></div>
        <div class="box" onclick="openSub('RO SERVICE')"><i class="fas fa-tint"></i><span>RO SERVICE</span></div>
        <div class="box" onclick="openSub('CCTV')"><i class="fas fa-video"></i><span>CCTV</span></div>
        <div class="box" onclick="openSub('FITTING')"><i class="fas fa-tools"></i><span>FITTING</span></div>
        <div class="box" onclick="openSub('CLEANING')"><i class="fas fa-broom"></i><span>CLEANING</span></div>
        <div class="box" onclick="openSub('AC SERVICE')"><i class="fas fa-snowflake"></i><span>AC SERVICE</span></div>
        <div class="box" onclick="openSub('OTHER')"><i class="fas fa-plus-circle"></i><span>OTHER</span></div>
    </div>
</div>

<div id="booking-page" class="page">
    <h2 id="svc-title" style="text-align:center; color:var(--primary); margin-bottom:15px;">‡§∏‡•á‡§µ‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç</h2>
    <input type="text" id="uName" class="input" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ">
    <input type="tel" id="uPhone" class="input" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
    <textarea id="uAddr" class="input" rows="3" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ"></textarea>
    <button class="btn-ok" id="locBtn" onclick="askLocation()" style="background:#3498db;">üìç 1. ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§¶‡•á‡§Ç (GPS)</button>
    <button class="btn-ok" id="finalBtn" onclick="finalSubmit()" style="display:none; margin-top:10px;">‚úÖ 2. ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§ï‡§®‡•ç‡§´‡§∞‡•ç‡§Æ ‡§ï‡§∞‡•á‡§Ç</button>
</div>

<div id="track-page" class="page"><h2 style="text-align:center;">üîç ‡§ü‡•ç‡§∞‡•à‡§ï ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏</h2><input type="text" id="trackId" class="input" placeholder="AK-ID ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç"><button class="btn-ok" style="background:var(--primary);" onclick="alert('‡§ñ‡•ã‡§ú ‡§ú‡§æ‡§∞‡•Ä ‡§π‡•à...')">‡§∏‡§∞‡•ç‡§ö ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏</button></div>

<div id="reviews-page" class="page"><h2 style="text-align:center;">‚≠ê ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç</h2><textarea class="input" placeholder="‡§Ö‡§™‡§®‡§æ ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§≤‡§ø‡§ñ‡•á‡§Ç..." rows="4"></textarea><button class="btn-ok">‡§∏‡§¨‡§Æ‡§ø‡§ü</button></div>

<div id="admin-page" class="page">
    <div id="admin-login-box">
        <h2 style="text-align:center;">üîê ‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®</h2>
        <input type="password" id="pin" class="input" placeholder="‡§™‡§ø‡§®: Ak2525">
        <button class="btn-ok" style="background:#333;" onclick="checkAdmin()">‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§ñ‡•ã‡§≤‡•á‡§Ç</button>
    </div>
    <div id="admin-panel-content">
        <h2 style="text-align:center; color:var(--primary); margin-bottom:10px;">üõ†Ô∏è ADMIN CONTROL</h2>
        <div class="adm-status-bar">
            <button class="adm-btn" style="background:#27ae60;">DONE</button>
            <button class="adm-btn" style="background:#f1c40f;">RUNNING</button>
            <button class="adm-btn" style="background:#e67e22;">PENDING</button>
            <button class="adm-btn" style="background:#e74c3c;">REJECTED</button>
        </div>
        <div class="grid" style="padding:0;">
            <div class="box" onclick="openAdmForm('REG')"><i class="fas fa-user-plus"></i><span>TEAM REG</span></div>
            <div class="box" onclick="openAdmForm('ID')"><i class="fas fa-id-badge"></i><span>GENERATE ID</span></div>
            <div class="box" onclick="openAdmForm('TASK')"><i class="fas fa-tasks"></i><span>ASSIGN</span></div>
            <div class="box" onclick="location.reload()"><i class="fas fa-sync-alt"></i><span>UPDATE</span></div>
            <div class="box" onclick="alert('Sheet ‡§ï‡§æ Team ‡§ü‡•à‡§¨ ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç')"><i class="fas fa-users"></i><span>TEAM LIST</span></div>
            <div class="box" onclick="window.open('https://script.google.com/macros/s/AKfycbwJ2nc2kHiUCr7OSA2n5rZl0ZiVJaUfUShyRTu3S68R8imvp7LbMj5SvJPx4vIl_HgV/exec')"><i class="fas fa-file-excel"></i><span>SHEET</span></div>
        </div>
    </div>
</div>

<div id="admin-form-modal">
    <h3 class="form-title" id="form-head">‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</h3>
    <input type="text" id="fName" class="input" placeholder="‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
    <input type="text" id="fRole" class="input" placeholder="‡§™‡§¶ (‡§ú‡•à‡§∏‡•á: RO EXPERT)">
    <input type="tel" id="fPhone" class="input" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
    <button class="btn-ok" id="formSubmitBtn">‡§ï‡§®‡•ç‡§´‡§∞‡•ç‡§Æ</button>
    <button onclick="closeAdmForm()" style="background:none; border:none; color:gray; margin-top:10px; font-weight:bold; cursor:pointer;">‡§ï‡•à‡§Ç‡§∏‡§ø‡§≤</button>
</div>

<div id="id-card-modal">
    <div style="background:var(--primary); color:white; padding:10px; border-radius:10px 10px 0 0; margin:-20px -20px 15px -20px;"><h3>OFFICIAL ID</h3></div>
    <img src="57255.jpg" style="width:75px; height:75px; border-radius:50%; margin-top:10px; border:2px solid var(--primary);">
    <h2 id="id-name" style="color:var(--primary); font-size:18px; margin-top:10px;">‡§®‡§æ‡§Æ</h2>
    <p id="id-role" style="font-weight:bold; color:#333; font-size:13px;">‡§™‡§¶</p>
    <p id="id-phone" style="font-size:12px; margin:5px 0;">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï</p>
    <button class="btn-ok" style="margin-top:15px; padding:8px; font-size:12px;" onclick="window.print()">PRINT / DOWNLOAD</button>
    <br><button onclick="document.getElementById('id-card-modal').style.display='none'" style="background:none; border:none; color:gray; margin-top:10px; font-weight:bold; cursor:pointer;">CLOSE</button>
</div>

<div class="nav-bar">
    <div class="nav-item active-nav" onclick="showPage('home-page', this)"><i class="fas fa-home"></i>Home</div>
    <div class="nav-item" onclick="showPage('booking-page', this)"><i class="fas fa-calendar-alt"></i>Booking</div>
    <div class="nav-item" onclick="showPage('track-page', this)"><i class="fas fa-search-location"></i>Track</div>
    <div class="nav-item" onclick="showPage('reviews-page', this)"><i class="fas fa-star"></i>Reviews</div>
    <div class="nav-item" onclick="showPage('admin-page', this)"><i class="fas fa-user-shield"></i>Admin</div>
</div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwJ2nc2kHiUCr7OSA2n5rZl0ZiVJaUfUShyRTu3S68R8imvp7LbMj5SvJPx4vIl_HgV/exec';
    let userGPS = "";
    let currentAdmAction = "";

    const subData = {
        'PLUMBER': ['‡§®‡§≤ ‡§´‡§ø‡§ü‡§ø‡§Ç‡§ó', '‡§≤‡•Ä‡§ï‡•á‡§ú', '‡§ü‡§Ç‡§ï‡•Ä ‡§∏‡§´‡§æ‡§à', '‡§ó‡•Ä‡§ú‡§∞'],
        'ELECTRICIAN': ['‡§¨‡•ã‡§∞‡•ç‡§°', '‡§™‡§Ç‡§ñ', '‡§≤‡§æ‡§á‡§ü', '‡§á‡§®‡§µ‡§∞‡•ç‡§ü‡§∞'],
        'RO SERVICE': ['‡§´‡§ø‡§≤‡•ç‡§ü‡§∞', '‡§≤‡•Ä‡§ï‡•á‡§ú', '‡§®‡§Ø‡§æ RO', '‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏'],
        'CCTV': ['‡§®‡§Ø‡§æ', 'DVR', '‡§µ‡§æ‡§Ø‡§∞‡§ø‡§Ç‡§ó', '‡§∞‡§ø‡§™‡•á‡§Ø‡§∞'],
        'AC SERVICE': ['‡§ó‡•à‡§∏', '‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏‡§ø‡§Ç‡§ó', '‡§≤‡•Ä‡§ï‡•á‡§ú', '‡§´‡§ø‡§ü‡§ø‡§Ç‡§ó'],
        'CARPENTER': ['‡§§‡§æ‡§≤‡§æ', '‡§¶‡§∞‡§µ‡§æ‡§ú‡§æ', '‡§™‡•â‡§≤‡§ø‡§∂', '‡§¨‡•á‡§°'],
        'FITTING': ['‡§¨‡§æ‡§•‡§∞‡•Ç‡§Æ', '‡§ï‡§ø‡§ö‡§®', 'TV ‡§Æ‡§æ‡§â‡§Ç‡§ü'],
        'CLEANING': ['‡§ò‡§∞', '‡§∏‡•ã‡§´‡§æ', '‡§¨‡§æ‡§•‡§∞‡•Ç‡§Æ'],
        'OTHER': ['‡§™‡•á‡§Ç‡§ü', '‡§µ‡•á‡§≤‡•ç‡§°‡§ø‡§Ç‡§ó', '‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞']
    };

    function showPage(id, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.getElementById(id).classList.add('active-page');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active-nav'));
        if(el) el.classList.add('active-nav');
    }

    function openSub(cat) {
        let grid = document.getElementById('main-grid');
        let html = "";
        subData[cat].forEach(s => { html += `<div class="box" onclick="goBook('${cat} - ${s}')"><span>${s}</span></div>`; });
        html += `<button onclick="location.reload()" style="grid-column: span 3; background:#e74c3c; color:white; border:none; padding:12px; border-radius:10px; margin-top:10px; font-weight:bold;">‡§µ‡§æ‡§™‡§∏</button>`;
        grid.innerHTML = html;
        window.scrollTo(0,0);
    }

    function goBook(svc) {
        document.getElementById('svc-title').innerText = svc;
        showPage('booking-page', document.querySelectorAll('.nav-item')[1]);
    }

    function askLocation() {
        if (navigator.geolocation) {
            document.getElementById('locBtn').innerText = "‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§Æ‡§ø‡§≤ ‡§∞‡§π‡•Ä ‡§π‡•à...";
            navigator.geolocation.getCurrentPosition((pos) => {
                userGPS = `http://maps.google.com/?q=${pos.coords.latitude},${pos.coords.longitude}`;
                document.getElementById('locBtn').innerText = "‚úÖ ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•Å‡§à";
                document.getElementById('finalBtn').style.display = "block";
            });
        }
    }

    function finalSubmit() {
        const name = document.getElementById('uName').value;
        const phone = document.getElementById('uPhone').value;
        const addr = document.getElementById('uAddr').value;
        const svc = document.getElementById('svc-title').innerText;
        if(!name || !phone) return alert("‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§®‡§Ç‡§¨‡§∞ ‡§≠‡§∞‡•á‡§Ç!");
        const bid = "AK" + Math.floor(1000 + Math.random() * 9000);
        fetch(scriptURL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({action:"booking", id:bid, name, phone, address:addr, service:svc, location:userGPS}) });
        window.open(`https://wa.me/919927464530?text=*AK HUB*%0AID: ${bid}%0A‡§∏‡•á‡§µ‡§æ: ${svc}%0A‡§®‡§æ‡§Æ: ${name}%0AGPS: ${userGPS}`);
        alert("‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó OK! ID: " + bid); location.reload();
    }

    function checkAdmin() {
        if(document.getElementById('pin').value === "Ak2525") {
            document.getElementById('admin-login-box').style.display = 'none';
            document.getElementById('admin-panel-content').style.display = 'block';
        } else alert("‡§ó‡§≤‡§§ ‡§™‡§ø‡§®!");
    }

    // --- NEW ADMIN MODAL LOGIC ---
    function openAdmForm(action) {
        currentAdmAction = action;
        document.getElementById('admin-form-modal').style.display = 'block';
        let head = document.getElementById('form-head');
        let roleInp = document.getElementById('fRole');
        
        if(action === 'REG') { head.innerText = "Team Registration"; roleInp.style.display = "none"; }
        else if(action === 'ID') { head.innerText = "ID Card Generator"; roleInp.style.display = "block"; }
        else { head.innerText = "Assign New Task"; roleInp.style.display = "none"; }

        document.getElementById('formSubmitBtn').onclick = function() {
            let n = document.getElementById('fName').value;
            let p = document.getElementById('fPhone').value;
            let r = roleInp.value || "TECHNICIAN";
            if(!n || !p) return alert("‡§µ‡§ø‡§µ‡§∞‡§£ ‡§≠‡§∞‡•á‡§Ç!");

            if(currentAdmAction === 'REG') window.open(`https://wa.me/91${p}?text=AK HUB ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à ${n}!`);
            else if(currentAdmAction === 'ID') {
                document.getElementById('id-name').innerText = n;
                document.getElementById('id-role').innerText = r;
                document.getElementById('id-phone').innerText = "+91 " + p;
                document.getElementById('id-card-modal').style.display = 'block';
            }
            else window.open(`https://wa.me/91${p}?text=*NEW TASK*%0A‡§®‡§æ‡§Æ: ${n}%0A‡§ï‡§æ‡§Æ: ${r}`);
            closeAdmForm();
        };
    }

    function closeAdmForm() {
        document.getElementById('admin-form-modal').style.display = 'none';
        document.getElementById('fName').value = ""; document.getElementById('fPhone').value = "";
    }

    let idx = 0;
    setInterval(() => {
        const s = document.getElementById('mainSlider');
        if(s) { idx = (idx + 1) % 5; s.style.transform = `translateX(${-idx * 100}%)`; }
    }, 3500);
</script>
</body>
</html>
